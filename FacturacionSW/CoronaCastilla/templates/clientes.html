{% extends 'base.html' %}
{% load static %}
{% block title %} Clientes {% endblock %}

{% block content %}
<main class="main">
    <div class="main__buttons">
        <button class="main__buttons__create" onclick="window.location.href= `{% url 'nuevoCliente' %}`">Crear
            cliente</button>
    </div>
    <div class="main__filter">
        <form id="filter-client-form" action="{% url 'facturas' %}" method="GET">
            <input type="text" name="cliente" placeholder="Buscar por nombre de cliente" class="main__filter__input" 
                   value="{{ request.GET.cliente }}" onchange="this.form.submit()">
        </form>
    </div>
    <table class="main__table">
        <thead class="main__table__head">
            <tr class="main__table__head__row">
                <th class="main__table__head__row__th">Nombre</th>
                <th class="main__table__head__row__th">N.I.F</th>
            </tr>
        </thead>
        <tbody class="main__table__body">
            {% for cliente in clientes %}
            <tr class="main__table__body__row"
                onclick="window.location.href=`{% url 'clienteDetails' cliente_id=cliente.id %}`">
                <td class="main__table__body__row__th">{{ cliente.nombre }}</td>
                <td class="main__table__body__row__th">{{ cliente.nif }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</main>
{% endblock %}